"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _tips=require("./tips.js"),_tips2=_interopRequireDefault(_tips),_wepy=require("./../npm/wepy-ant/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_util=require("./../api/util.js"),_util2=_interopRequireDefault(_util),request={https:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_wepy2.default.$instance.globalData;return wx.showNavigationBarLoading(),new Promise(function(n){wx.request({url:e,method:t,data:i,header:Object.assign({"Content-Type":"application/json"},a),success:function(e){if(404==e.statusCode&&_tips2.default.alert("请求的网址不存在"),("postNet"==t||"getNet"==t)&&500==e.statusCode)return wx.showModal({title:"提示",content:"内部服务器请求出错",showCancel:!1}),!noLoad&&_tips2.default.loaded(),!1;n(e.data)},fail:function(e){n()},complete:function(e){-1!==e.errMsg.indexOf("request:fail")&&wx.showModal({content:"网络连接错误，请检查网络",showCancel:!1}),wx.stopPullDownRefresh(),wx.hideNavigationBarLoading()}})})}};exports.default=request;