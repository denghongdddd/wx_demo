"use strict";function _asyncToGenerator(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,o){function r(t,s){try{var u=n[t](s),c=u.value}catch(e){return void o(e)}if(!u.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateUserInfoAsync=void 0;var _user=require("./../types/user.js"),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),testUserInfo={openId:"openId",uinonId:"uinonId",name:"name",id:"id",telephone:"telephone"},updateUserInfoAsync=exports.updateUserInfoAsync=(0,_reduxActions.createAction)(_user.ASYNC_UPDATEUSERINFO,function(){return new Promise(function(e){"wxwork"===wx.getSystemInfoSync().environment?(console.log("进入企业微信模式"),wx.qy.login({success:function(n){console.log("登录凭证:",n.code),e(testUserInfo)}})):(console.log("进入正常小程序模式"),wx.login({success:function(){function n(e){return o.apply(this,arguments)}var o=_asyncToGenerator(regeneratorRuntime.mark(function n(o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:console.log("登录凭证:",o.code),console.log("请求后的数据",userInfo),e(userInfo);case 3:case"end":return n.stop()}},n,this)}));return n}()}))})});