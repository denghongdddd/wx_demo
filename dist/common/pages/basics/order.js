"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),_wepy=require("./../../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),order=function(e){function t(){var e,i,o,n;_classCallCheck(this,t);for(var s=arguments.length,r=Array(s),a=0;a<s;a++)r[a]=arguments[a];return i=o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),o.config={usingComponents:{}},o.data={list:[],positionList:[],value:10,width:wx.getSystemInfoSync().windowWidth/5,isMove:!1,moveIndex:-1,moveToIndex:-1},o.methods={add:function(){this.list.push(++this.value),this.setPosition()},start:function(e){var t=this;this.$nextTick(function(){t.isMove=!0,t.moveIndex=e,t.$apply()})},end:function(){var e=this;-1!=this.moveToIndex&&-1!=this.moveIndex&&this.moveIndex!=this.moveToIndex&&this.moveToIndex<this.list.length?this.list.splice(this.moveToIndex,0,this.list.splice(this.moveIndex,1)[0]):setTimeout(function(){e.setData({list:e.list})}),this.setPosition(),this.moveIndex=-1,this.moveToIndex=-1,this.isMove=!1},move:function(e){if(this.moveIndex>=0){var t=5*parseInt((e.detail.y+this.width/4)/this.width)+parseInt((e.detail.x+this.width/4)/this.width);this.moveToIndex!=t&&(this.moveToIndex=t,t<this.list.length&&this.setPosition(t,e.detail))}}},n=i,_possibleConstructorReturn(o,n)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){wx.data=this;for(var e=0;e<10;e++)this.list.push(e+1);this.setPosition()}},{key:"setPosition",value:function(e,t){var i=this;this.list.forEach(function(o,n){var s=n;if("number"==typeof e){if(e>i.moveIndex)var s=n>=i.moveIndex&&n<=e?n-1:n;else if(e<i.moveIndex)var s=n>=e&&n<=i.moveIndex?n+1:n;if(n==i.moveIndex)return void(i.positionList[n]={x:t.x,y:t.y})}i.positionList[n]={x:i.width*parseInt(s/5),y:i.width*(s%5)}})}}]),t}(_wepy2.default.page);Page(require("./../../../npm/wepy/lib/wepy.js").default.$createPage(order,"common/pages/basics/order"));