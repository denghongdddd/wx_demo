"use strict";function Mime(){this._types=Object.create(null),this._extensions=Object.create(null);for(var e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime.prototype.define=function(e,t){for(var i in e){var s=e[i].map(function(e){return e.toLowerCase()});i=i.toLowerCase();for(var n=0;n<s.length;n++){var o=s[n];if("*"!=o[0]){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+i+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+i+'".');this._types[o]=i}}if(t||!this._extensions[i]){var o=s[0];this._extensions[i]="*"!=o[0]?o:o.substr(1)}}},Mime.prototype.getType=function(e){e=String(e);var t=e.replace(/^.*[\/\\]/,"").toLowerCase(),i=t.replace(/^.*\./,"").toLowerCase(),s=t.length<e.length;return(i.length<t.length-1||!s)&&this._types[i]||null},Mime.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},module.exports=Mime;